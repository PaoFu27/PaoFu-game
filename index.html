<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>ç”œèœœè§£è°œæ¸¸æˆ Â· ç¬¬ä¸€å…³</title>
<style>
  body {
    background: url("Watercolor-Heart-Illustration.jpg") no-repeat center center fixed;
    background-size: cover;
    font-family: "Microsoft YaHei";
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    overflow: hidden;
  }

  /* ä¿¡å°æ ·å¼ + æ‘‡æ™ƒåŠ¨ç”» */
  #envelope {
    width: 150px;
    height: 100px;
    background: #ff69b4;
    border-radius: 8px;
    cursor: pointer;
    position: relative;
    animation: shake 2s infinite;
  }
  #envelope::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    border-left: 75px solid transparent;
    border-right: 75px solid transparent;
    border-bottom: 50px solid #ff85c1;
  }

  @keyframes shake {
    0%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(5deg); }
    75% { transform: rotate(-5deg); }
  }

  /* çº¸å¼ æ ·å¼ï¼Œåˆå§‹éšè— */
  #letter {
    display: none;
    background: rgba(255, 255, 255, 0.95);
    color: #000;
    width: 320px;
    padding: 30px;
    border-radius: 12px;
    text-align: center;
    box-shadow: 0 0 20px rgba(0,0,0,0.5);
    position: absolute;
    opacity: 0;
    transform: scale(0.5);
    transition: all 0.5s ease;
  }

  #letter p {
    min-height: 80px; /* ç•™å‡ºæ‰“å­—æ–‡å­—ç©ºé—´ */
  }

  #birthday, #submitBtn {
    display: none;
    margin-top: 15px;
    padding: 8px;
    font-size: 16px;
    border-radius: 8px;
    border: 1px solid #ccc;
  }

  #submitBtn {
    margin-top: 10px;
    background-color: #ff69b4;
    color: white;
    border: none;
    cursor: pointer;
  }
  #submitBtn:hover {
    background-color: #ff85c1;
  }

  /* ä¸‹ä¸€å…³æ˜¾ç¤ºæ–‡å­— */
  #next {
    display: none;
    margin-top: 20px;
    font-weight: bold;
    color: #ff1493;
  }
</style>
</head>
<body>

<!-- ä¿¡å° -->
<div id="envelope"></div>

<!-- çº¸å¼  -->
<div id="letter">
  <p id="text"></p>
  <input type="text" id="birthday" placeholder="è¾“å…¥ä½ çš„ç”Ÿæ—¥">
  <br>
  <button id="submitBtn">æäº¤</button>
  <p id="next">ğŸ‰ ç”Ÿæ—¥æ­£ç¡®ï¼è¿›å…¥ä¸‹ä¸€å…³ï¼</p>
</div>

<script>
  const envelope = document.getElementById("envelope");
  const letter = document.getElementById("letter");
  const textEl = document.getElementById("text");
  const birthdayInput = document.getElementById("birthday");
  const submitBtn = document.getElementById("submitBtn");
  const next = document.getElementById("next");

  const message = "å¥½ä¹…ä¸è§ï¼Œä¸Šæ¬¡è§é¢æ˜¯ä»€ä¹ˆæ—¶å€™ä½ è¿˜è®°å¾—å—ï¼Ÿ\næˆ‘çš„ç”Ÿæ—¥å¿«åˆ°äº†ï¼Œä½ ä¸€å®šè¦æ¥å“¦ ğŸ‚";

  // æ‰“å­—æœºæ•ˆæœ
  function typeText(text, el, callback) {
    let i = 0;
    const interval = setInterval(() => {
      el.innerHTML += text.charAt(i).replace(/\n/g,"<br>");
      i++;
      if(i >= text.length) {
        clearInterval(interval);
        if(callback) callback();
      }
    }, 50); // æ¯50msæ‰“ä¸€ä¸ªå­—
  }

  // ç‚¹å‡»ä¿¡å°
  envelope.addEventListener("click", () => {
    envelope.style.transform = "scale(0)"; // ä¿¡å°ç¼©å°
    setTimeout(() => {
      envelope.style.display = "none";
      letter.style.display = "block";
      setTimeout(() => {
        letter.style.opacity = "1";
        letter.style.transform = "scale(1)";
        typeText(message, textEl, () => {
          // æ‰“å®Œå­—åæ˜¾ç¤ºè¾“å…¥æ¡†å’ŒæŒ‰é’®
          birthdayInput.style.display = "inline-block";
          submitBtn.style.display = "inline-block";
        });
      }, 50);
    }, 500);
  });

  // ç‚¹å‡»æäº¤
  submitBtn.addEventListener("click", () => {
    const b = birthdayInput.value.trim();
    if(b === "") {
      alert("è¯·è¾“å…¥ä½ çš„ç”Ÿæ—¥å“¦~ ğŸ‚");
      return;
    }
    // æ˜¾ç¤ºä¸‹ä¸€å…³æ–‡å­—
    next.style.display = "block";
    // è¿™é‡Œå¯ä»¥å»¶æ—¶åè¿›å…¥ä¸‹ä¸€å…³
    setTimeout(() => {
      // å‡è®¾ä¸‹ä¸€å…³è¿˜æ²¡åšï¼Œå¯ä»¥åœ¨è¿™é‡Œæ›¿æ¢å†…å®¹æˆ–è·³è½¬
      alert("ä¸‹ä¸€å…³å†…å®¹å¯ä»¥åœ¨è¿™é‡Œæ˜¾ç¤ºæˆ–è·³è½¬é¡µé¢ï¼");
    }, 500);
  });

</script>
</body>
</html>
